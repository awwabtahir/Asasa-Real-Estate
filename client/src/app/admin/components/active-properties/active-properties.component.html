<app-dashboard></app-dashboard>
<div class="col-md-9">
  <div class="container-fluid">
    <div class="form-inline">
      <button class="btn btn-primary mt-2 mb-2" routerLink="/dashboard/addProperty">Add New</button>
      <input type="text" class="form-control ml-2" placeholder="Search Ref ID" [(ngModel)]="refId"
        (keyup)="filterByRef()">
    </div>
    <table class="table table-hover" [mfData]="filteredData" [(mfSortBy)]="sortBy" [(mfSortOrder)]="sortOrder"
      #mf="mfDataTable" [mfRowsOnPage]="50">
      <thead>
        <tr>
          <th style="width: 5%">
            <mfDefaultSorter by="refid">Ref ID</mfDefaultSorter>
          </th>
          <th style="width: 5%">
            <mfDefaultSorter by="id">Inv ID</mfDefaultSorter>
          </th>
          <th style="width: 10%">
            <mfDefaultSorter by="type">Type</mfDefaultSorter>
          </th>
          <th style="width: 5%">
            <mfDefaultSorter by="number">Number</mfDefaultSorter>
          </th>
          <th style="width: 5%">
            <mfDefaultSorter by="area">Area</mfDefaultSorter>
          </th>
          <th style="width: 10%">
            <mfDefaultSorter by="location">Location</mfDefaultSorter>
          </th>
          <th style="width: 5%">
            <mfDefaultSorter by="demand">Demand</mfDefaultSorter>
          </th>
          <th style="width: 5%">
            <mfDefaultSorter by="comment">Comment</mfDefaultSorter>
          </th>
          <th style="width: 5%">
            <mfDefaultSorter by="updatedBy">Updated by</mfDefaultSorter>
          </th>
          <th style="width: 10%">
            <mfDefaultSorter by="operations">Operations</mfDefaultSorter>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of mf.data.slice().reverse()">
          <td>{{item._id}}</td>
          <td>{{item.invId}}</td>
          <td>{{item.subtype}}</td>
          <td>{{item.propNumber}}</td>
          <td>{{item.area}} {{item.areaType | titlecase}}</td>
          <td><span *ngIf="item.locationData.sector">{{item.locationData.sector}},</span>
            {{item.locationData.location}},
            {{item.locationData.city}}</td>
          <td>Rs. {{ getDemand(item.demand) }}</td>
          <td>{{ item.comment }}</td>
          <td *ngIf="agents">{{ getName(item.userId) }}</td>
          <td>
            <button class="btn btn-success btn-sm mr-1" (click)="edit(item)">Edit</button>
            <button class="btn btn-danger btn-sm" data-toggle="modal" data-target="#exampleModal"
              (click)="confirmDelete(item)">Delete</button>
          </td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="4">
            <mfBootstrapPaginator [rowsOnPageSet]="[50,100,150]"></mfBootstrapPaginator>
          </td>
        </tr>
      </tfoot>
    </table>
    <!-- <div class="panel-body">
      <div class="panel-body">
        <table datatable [dtOptions]="dtOptions2" [dtTrigger]="dtTrigger " id="example"
          class="table table-hover table-striped table-bordered b-l-0">
          <thead>
            <tr>

              <th class="tableCell sorting_desc" width="5%">
                <label class="md-check">
                  <input type="checkbox" name="id[]" value="1" class="has-value checkproducttype">
                  <i class="dark"></i>
                </label>
              </th>

              <th>Name</th>
              <th>Abbrv </th>
              <th>Country </th>
              <th>Status </th>
              <th>Action</th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                <label class="md-check">
                  <input type="checkbox" name="id[]" value="1" class="has-value checkproducttype">
                  <i class="dark"></i>
                </label>
              </td>
              <td>dfsdfsdf</td>
              <td>dfsdfsdf</td>
              <td>fdsfsdfd</td>
              <td>
                <span *ngIf="data.status==1" class="badge badge-success success">Active</span>
                <span *ngIf="data.status==0" class="badge badge-secondary">Inactive</span>
              </td>
              <td class="text-center">

                <div class="btn-group" dropdown>

                  <span class="nav-item inline dropdown">
                    <a class="nav-link text-muted p-x-xs" aria-expanded="true" dropdownToggle>
                      <i class="fa fa-ellipsis-v"></i>
                    </a>
                  </span>
                  <ul *dropdownMenu class="dropdown-menu dropdown-menu-left  pull-right" role="menu">
                    <li>
                      <a class="dropdown-item" (click)="openModal(template,data,i)">
                        <i class="material-icons md-24">edit</i>
                        Edit
                      </a>
                    </li>
                    <li *ngIf="data.status=='1'">
                      <a (click)="makeActiveItem(i,data,'0')" class="dropdown-item">
                        <i class="material-icons md-24">clear</i>
                        Make InActive
                      </a>
                    </li>
                    <li *ngIf="data.status=='0'">
                      <a (click)="makeActiveItem(i,data,'1')" class="dropdown-item">
                        <i class="material-icons md-24">clear</i>
                        Make Active
                      </a>
                    </li>
                    <li>
                      <a (click)="openDeleteModal(confirmation,i,data)" class="dropdown-item">
                        <i class="material-icons md-24">delete</i>
                        Remove
                      </a>
                    </li>


                  </ul>
                </div>




              </td>
            </tr>


          </tbody>
        </table>
      </div>
    </div> -->
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Delete Confirmation</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Are you sure you want to delete it?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="delete()">Delete</button>
      </div>
    </div>
  </div>
</div>
